import sys, numbers
PY3 = sys.version_info[0] >= 3
PY2 = sys.version_info[0] == 2
PYPY = hasattr(sys, 'pypy_translation_info')

def with_metaclass(meta, *bases):

    class metaclass(meta):
        __call__ = type.__call__
        __init__ = type.__init__

        def __new__(cls, name, this_bases, d):
            if this_bases is None:
                return type.__new__(cls, name, (), d)
            else:
                return meta(name, bases, d)

    return metaclass('temporary_class', None, {})


def native(obj):
    if hasattr(obj, '__native__'):
        return obj.__native__()
    else:
        return obj


def old_div(a, b):
    if isinstance(a, numbers.Integral) and isinstance(b, numbers.Integral):
        return a // b
    else:
        return a / b


__all__ = ['PY3', 'PY2', 'PYPY', 'with_metaclass', 'native', 'old_div']